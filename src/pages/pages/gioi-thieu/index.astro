---
import Navbar from '../../../components/sections/about/Navbar.astro';
import HeroSlider from '../../../components/sections/about/HeroSlider.astro';
import IntroSection from '../../../components/sections/about/IntroSection.astro';
import GioiThieuSection from '../../../components/sections/about/GioiThieuSection.astro';
import ThanhTichGridSection from '../../../components/sections/about/ThanhTichGridSection.astro';
import ThanhTichAltSection from '../../../components/sections/about/ThanhTichAltSection.astro';
import InfographicSection from '../../../components/sections/about/InfographicSection.astro';
import ProgramCardsSection from '../../../components/sections/about/ProgramCardsSection.astro';
import LifeEduSection from '../../../components/sections/about/LifeEduSection.astro';
import CampusListSection from '../../../components/sections/about/CampusListSection.astro';
import EnglishProgramSection from '../../../components/sections/about/EnglishProgramSection.astro';
import ExtracurricularSection from '../../../components/sections/about/ExtracurricularSection.astro';
import ThanhTichInfographicSection from '../../../components/sections/about/ThanhTichInfographicSection.astro';
import Footer from '../../../components/sections/about/Footer.astro';
import ThanhTichAltSectionedit from '../../../components/sections/about/ThanhTichAltSectionedit.astro';
---

<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Giới Thiệu - The Dewey Schools</title>
  <link rel="stylesheet" href="/src/styles/tailwind.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap');
    
    *, *::before, *::after {
      box-sizing: border-box;
    }
    
    html, body {
      font-family: 'Be Vietnam Pro', Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
  </style>
</head>
<body>
  <Navbar />

  <!-- Reveal wrappers: fade-in-up when scrolled into view -->
  <div class="reveal-on-scroll"><HeroSlider /></div>
  <div class="reveal-on-scroll"><IntroSection /></div>
  <div class="reveal-on-scroll"><GioiThieuSection /></div>
  <div class="reveal-on-scroll"><InfographicSection /></div>
  <div class="reveal-on-scroll"><ThanhTichGridSection /></div>
  <div class="reveal-on-scroll"><ThanhTichAltSection /></div>
  <div class="reveal-on-scroll"><ThanhTichAltSectionedit /></div>
  <div class="reveal-on-scroll"><ProgramCardsSection /></div>
  <div class="reveal-on-scroll"><LifeEduSection /></div>
  <div class="reveal-on-scroll"><CampusListSection /></div>
  <div class="reveal-on-scroll"><EnglishProgramSection /></div>
  <div class="reveal-on-scroll"><ExtracurricularSection /></div>

  <Footer />

  <style>
    /* Fade-in up reveal */
    .reveal-on-scroll {
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 1000ms cubic-bezier(.2,.9,.3,1), transform 1000ms cubic-bezier(.2,.9,.3,1);
      will-change: opacity, transform;
    }
    .reveal-on-scroll.is-revealed {
      opacity: 1;
      transform: translateY(0);
    }
    /* Optional small stagger when multiple adjacent reveals exist */
    .reveal-on-scroll[data-reveal-delay] {
      transition-delay: var(--reveal-delay, 500ms);
    }
    @media (prefers-reduced-motion: reduce) {
      .reveal-on-scroll { transition: none; transform: none; opacity: 1; }
    }
  </style>

  <script type="module">
    // IntersectionObserver to add .is-revealed when element enters viewport
    const REVEAL_SELECTOR = '.reveal-on-scroll';
    function initRevealOnScroll() {
      const nodes = Array.from(document.querySelectorAll(REVEAL_SELECTOR));
      if (!nodes.length) return;

      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const el = entry.target;
            el.classList.add('is-revealed');
            obs.unobserve(el);
          }
        });
      }, { threshold: 0.12, rootMargin: '0px 0px -8% 0px' });

      nodes.forEach(n => observer.observe(n));
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initRevealOnScroll);
    } else {
      initRevealOnScroll();
    }
  </script>
</body>
</html>
